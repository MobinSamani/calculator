(function(e,i){typeof exports=="object"&&typeof module<"u"?module.exports=i(require("vue")):typeof define=="function"&&define.amd?define(["vue"],i):(e=typeof globalThis<"u"?globalThis:e||self,e.calculator=i(e.Vue))})(this,function(e){"use strict";const i=(t,s)=>{const a=t.__vccOpts||t;for(const[c,l]of s)a[c]=l;return a},o={name:"Calculator",data(){return{value1:"",value2:"0",result:null,buttons:["C","BS","%","/","7","8","9","x","4","5","6","-","1","2","3","+","0","00",".","="],operations:["%","/","x","-","+"],lastOperation:null,calculated:!1}},mounted(){window.addEventListener("keydown",this.handleKeydown)},unmounted(){window.removeEventListener("keydown",this.handleKeydown)},methods:{handleKeydown(t){let s=t.key;!s||(s==="*"&&(s="x"),s==="Enter"&&(s="="),!(!this.buttons.includes(s)&&s!=="Backspace")&&this.handleClick(s))},handleClick(t){switch(t){case"00":case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case".":this.addElement(t);break;case"x":case"+":case"-":case"/":case"%":this.addOperation(t);break;case"=":this.equal();break;case"Backspace":case"BS":this.backspace();break;case"C":this.clear();break}},addElement(t){this.calculated&&this.clear(),this.value2==="0"?this.value2=t:this.value2+=t},addOperation(t){var a;const s=this.getLastChar();if((!((a=this.value2)!=null&&a.length)||this.value2==="0")&&this.operations.includes(s))return this.replaceOperation(t);this.calculated?(this.value1=`${parseFloat(this.value2).toLocaleString()} ${t} `,this.calculated=!1):(this.calculate(),this.value1+=`${parseFloat(this.value2).toLocaleString()} ${t} `),this.value2="0",this.lastOperation=t},getLastChar(){var s,a;const t=(a=(s=this.value1)==null?void 0:s.trim())==null?void 0:a.split("");return t==null?void 0:t[(t==null?void 0:t.length)-1]},replaceOperation(t){var s;!((s=this.value1)!=null&&s.length)||(this.value1=this.value1.trim().slice(0,-1),this.value1+=`${t} `,this.lastOperation=t)},calculate(){if(this.result===null||this.result==null)return this.result=this.value2;switch(this.lastOperation){case"x":return this.result=parseFloat(this.result)*parseFloat(this.value2);case"+":return this.result=parseFloat(this.result)+parseFloat(this.value2);case"-":return this.result=parseFloat(this.result)-parseFloat(this.value2);case"/":return this.result=parseFloat(this.result)/parseFloat(this.value2);case"%":return this.result=parseFloat(this.result)%parseFloat(this.value2)}},equal(){var t;!((t=this.value2)!=null&&t.length)||this.calculated||(this.calculate(),this.value1+=parseFloat(this.value2).toLocaleString(),this.value2=String(this.result),this.calculated=!0)},backspace(){var t,s;!((t=this.value2)!=null&&t.length)||this.calculated||(this.value2=this.value2.slice(0,-1),(s=this.value2)!=null&&s.length||(this.value2="0"))},clear(){this.value1="",this.value2="0",this.result=null,this.lastOperation=null,this.calculated=!1}}},h={class:"flex flex-col gap-y-8"},u={class:"h-20 rounded-3xl shadow-inner bg-gray-100 py-3.5 px-6"},d={class:"flex flex-col items-end justify-between w-full h-full overflow-hidden"},p={class:"text-sm text-gray-500 whitespace-nowrap"},f={class:"text-3xl whitespace-nowrap"},m={key:0,class:"grid grid-cols-4 gap-6 relative"},g=["onClick"];function x(t,s,a,c,l,r){return e.openBlock(),e.createElementBlock("div",h,[e.createElementVNode("div",u,[e.createElementVNode("div",d,[e.createElementVNode("div",p,e.toDisplayString(l.value1),1),e.createElementVNode("div",f,[isNaN(l.value2)?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(e.toDisplayString(l.value2),1)],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(parseFloat(l.value2).toLocaleString()),1)],64))])])]),l.buttons&&l.buttons.length?(e.openBlock(),e.createElementBlock("div",m,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.buttons,n=>(e.openBlock(),e.createElementBlock("button",{key:n,class:"rounded-full shadow-md aspect-square flex items-center justify-center text-xl md:text-2xl lg:text-3xl hover:bg-gray-900 hover:text-white focus:bg-inherit focus:text-inherit active:bg-inherit active:text-inherit duration-150",onClick:C=>r.handleClick(n)},e.toDisplayString(n),9,g))),128))])):e.createCommentVNode("",!0)])}const _={name:"App",components:{Calculator:i(o,[["render",x]])}},k={class:"min-h-screen bg-gray-100 flex items-center justify-center p-8"},v={class:"flex flex-col gap-y-8 w-full sm:w-2/3 md:w-1/2 lg:w-1/3 2xl:w-1/4"},w=e.createElementVNode("div",{class:"flex items-center justify-center gap-2 flex-wrap text-center"},[e.createElementVNode("div",{class:"text-gray-600"},"A Vue Calculator Application by"),e.createElementVNode("a",{class:"font-bold",href:"https://MobinSamani.com",target:"_blank"},"MobinSamani.com")],-1),y={class:"bg-white shadow rounded-3xl p-8"};function b(t,s,a,c,l,r){const n=e.resolveComponent("calculator");return e.openBlock(),e.createElementBlock("div",k,[e.createElementVNode("div",v,[w,e.createElementVNode("div",y,[e.createVNode(n)])])])}const E=i(_,[["render",b]]),F="";return E});
